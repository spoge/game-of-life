{"version":3,"sources":["components/Cell.tsx","components/GameBoard.tsx","components/GameUI.tsx","utils/GameUtil.ts","utils/ArrayUtil.ts","components/GameHeader.tsx","Game.tsx","App.tsx","index.tsx"],"names":["Cell","onClick","alive","className","GameBoard","generation","cells","setCells","setStartCells","map","row","rowIndex","columnIndex","setter","column","newCells","cellRow","i","cellIsAlive","j","toggleCell","GameUI","isSimulating","toggleIsSimulating","resetSimulation","clearSimulation","nextGenerationCells","y","isAlive","x","neighbourCount","board","count","isYOuterEdge","length","isXOuterEdge","isYLowerEdge","isXLowerEdge","cellNeighbourCount","arrayFromTo","width","height","Array","from","fill","GameHeader","Game","startWidth","startHeight","useState","setWidth","setHeight","startCells","setGeneration","setIsSimulating","simulateGeneration","useCallback","useEffect","timer","setTimeout","clearTimeout","newStartCells","cell","undefined","onWidthChange","value","onHeightChange","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ef119cca.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./styles/Cell.scss\";\n\ninterface Props {\n  alive?: boolean;\n  onClick: (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void;\n}\n\nconst Cell = ({ onClick, alive = false }: Props) => {\n  return (\n    <div\n      className={`cell no-select ${alive ? \"alive\" : \"dead\"}`}\n      onClick={onClick}\n    ></div>\n  );\n};\n\nexport default Cell;\n","import React, { Dispatch, SetStateAction } from \"react\";\nimport Cell from \"./Cell\";\nimport \"./styles/GameBoard.scss\";\n\ninterface Props {\n  generation: number;\n  cells: boolean[][];\n  setCells: Dispatch<SetStateAction<boolean[][]>>;\n  setStartCells: Dispatch<SetStateAction<boolean[][]>>;\n}\n\nconst GameBoard = ({ generation, cells, setCells, setStartCells }: Props) => {\n  const toggleCell = (\n    setter: Dispatch<SetStateAction<boolean[][]>>,\n    row: number,\n    column: number\n  ) => {\n    let newCells = cells.map((cellRow, i) =>\n      cellRow.map((cellIsAlive, j) => {\n        if (i === row && j === column) return !cellIsAlive;\n        return cellIsAlive;\n      })\n    );\n    setter(newCells);\n    if (setter === setStartCells) {\n      setCells(newCells);\n    }\n  };\n\n  return (\n    <div className=\"board\">\n      {[\n        ...cells.map((row, rowIndex) => (\n          <div className=\"row\" key={rowIndex}>\n            {[\n              ...row.map((alive, columnIndex) => (\n                <Cell\n                  onClick={() => {\n                    if (generation === 1) {\n                      toggleCell(setStartCells, rowIndex, columnIndex);\n                    }\n                  }}\n                  key={columnIndex}\n                  alive={alive}\n                />\n              )),\n            ]}\n          </div>\n        )),\n      ]}\n    </div>\n  );\n};\n\nexport default GameBoard;\n","import React from \"react\";\nimport \"./styles/GameUI.scss\";\n\ninterface Props {\n  isSimulating: boolean;\n  toggleIsSimulating: () => void;\n  resetSimulation: () => void;\n  clearSimulation: () => void;\n  width: number;\n  height: number;\n  onWidthChange: (value: number) => void;\n  onHeightChange: (value: number) => void;\n}\n\nconst GameUI = ({\n  isSimulating,\n  toggleIsSimulating,\n  resetSimulation,\n  clearSimulation,\n}: Props) => {\n  return (\n    <div className=\"game-controls\">\n      <button className=\"game-button no-select\" onClick={toggleIsSimulating}>\n        {isSimulating ? \"Pause\" : \"Play\"}\n      </button>\n      <button className=\"game-button no-select\" onClick={resetSimulation}>\n        Reset\n      </button>\n      <button className=\"game-button no-select\" onClick={clearSimulation}>\n        Clear\n      </button>\n    </div>\n  );\n};\n\nexport default GameUI;\n","const cellNeighbourCount = (board: boolean[][], y: number, x: number) => {\n  let count = 0;\n  let isYOuterEdge = y >= board.length - 1;\n  let isXOuterEdge = x >= board.length - 1;\n  let isYLowerEdge = y <= 0;\n  let isXLowerEdge = x <= 0;\n\n  if (!isYOuterEdge && !isXOuterEdge && board[y + 1][x + 1]) count++;\n  if (!isYOuterEdge && board[y + 1][x]) count++;\n  if (!isYOuterEdge && !isXLowerEdge && board[y + 1][x - 1]) count++;\n  if (!isXOuterEdge && board[y][x + 1]) count++;\n  if (!isXLowerEdge && board[y][x - 1]) count++;\n  if (!isYLowerEdge && !isXOuterEdge && board[y - 1][x + 1]) count++;\n  if (!isYLowerEdge && board[y - 1][x]) count++;\n  if (!isYLowerEdge && !isXLowerEdge && board[y - 1][x - 1]) count++;\n  return count;\n};\n\nconst nextGenerationCells = (cells: boolean[][]) =>\n  cells.map((row, y) =>\n    row.map((isAlive, x) => {\n      let neighbourCount = cellNeighbourCount(cells, y, x);\n      return (\n        (isAlive && (neighbourCount === 2 || neighbourCount === 3)) ||\n        (!isAlive && neighbourCount === 3)\n      );\n    })\n  );\n\nexport { nextGenerationCells };\n","const arrayFromTo = (width: number, height: number) =>\n  Array.from(Array(width), () => new Array(height).fill(false));\n\nexport default arrayFromTo;\n","import React from \"react\";\nimport \"./styles/GameHeader.scss\";\n\ninterface Props {\n  generation: number;\n}\n\nconst GameHeader = ({ generation }: Props) => {\n  return (\n    <div className=\"game-header\">\n      <div className=\"game-label\">Conway's Game of Life</div>\n      <div className=\"game-label\">Generation: {generation}</div>\n    </div>\n  );\n};\n\nexport default GameHeader;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport GameBoard from \"./components/GameBoard\";\nimport GameUI from \"./components/GameUI\";\nimport { nextGenerationCells } from \"./utils/GameUtil\";\nimport arrayFromTo from \"./utils/ArrayUtil\";\nimport GameHeader from \"./components/GameHeader\";\nimport \"./styles/Game.scss\";\n\ninterface Props {\n  startWidth: number;\n  startHeight: number;\n}\n\nconst Game = ({ startWidth, startHeight }: Props) => {\n  const [width, setWidth] = useState(startWidth);\n  const [height, setHeight] = useState(startHeight);\n\n  const [startCells, setStartCells] = useState<boolean[][]>(\n    arrayFromTo(width, height)\n  );\n  const [cells, setCells] = useState<boolean[][]>(startCells);\n  const [generation, setGeneration] = useState(1);\n  const [isSimulating, setIsSimulating] = useState(false);\n  //const [interval, setInterval] = useState(500);\n  const interval = 500;\n\n  const simulateGeneration = useCallback(() => {\n    setCells(nextGenerationCells);\n    setGeneration(generation + 1);\n  }, [generation]);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (isSimulating) {\n        simulateGeneration();\n      }\n    }, interval);\n    return () => clearTimeout(timer);\n  }, [isSimulating, interval, simulateGeneration]);\n\n  useEffect(() => {\n    if (width < 1 || height < 1) {\n      setWidth(startWidth);\n      setHeight(startHeight);\n      return;\n    }\n\n    let newStartCells = arrayFromTo(width, height).map((row, width) =>\n      row.map((cell, height) =>\n        startCells.length > height &&\n        startCells[height].length > width &&\n        startCells[width] !== undefined\n          ? startCells[width][height]\n          : cell\n      )\n    );\n\n    setStartCells(newStartCells);\n    setCells(newStartCells);\n    return () => {};\n    // eslint-disable-next-line\n  }, [height, width, startHeight, startWidth]);\n\n  const resetSimulation = () => {\n    setIsSimulating(false);\n    setGeneration(1);\n    setCells(startCells);\n  };\n\n  const clearSimulation = () => {\n    setIsSimulating(false);\n    setGeneration(1);\n    let newCells = arrayFromTo(width, height);\n    setCells(newCells);\n    setStartCells(newCells);\n  };\n\n  const onWidthChange = (value: number) => {\n    setWidth(value);\n  };\n\n  const onHeightChange = (value: number) => {\n    setHeight(value);\n  };\n\n  return (\n    <div className=\"game\">\n      <GameHeader generation={generation} />\n      <GameBoard\n        generation={generation}\n        cells={cells}\n        setCells={setCells}\n        setStartCells={setStartCells}\n      />\n      <GameUI\n        isSimulating={isSimulating}\n        toggleIsSimulating={() => setIsSimulating(!isSimulating)}\n        resetSimulation={resetSimulation}\n        clearSimulation={clearSimulation}\n        width={width}\n        height={height}\n        onWidthChange={onWidthChange}\n        onHeightChange={onHeightChange}\n      />\n    </div>\n  );\n};\n\nexport default Game;\n","import React from \"react\";\nimport Game from \"./Game\";\nimport \"./styles/App.scss\";\n\nconst App = () => {\n  return (\n    <div className=\"app\">\n      <Game startWidth={20} startHeight={20} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./styles/index.scss\";\nimport \"./styles/shared.scss\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}