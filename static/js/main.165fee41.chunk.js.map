{"version":3,"sources":["components/Cell.tsx","components/GameBoard.tsx","components/GameUI.tsx","utils/GameUtil.ts","utils/ArrayUtil.ts","components/GameHeader.tsx","Game.tsx","App.tsx","index.tsx"],"names":["Cell","onClick","alive","className","GameBoard","generation","cells","setCells","setStartCells","map","row","rowIndex","key","columnIndex","setter","column","newCells","cellRow","i","cellIsAlive","j","toggleCell","GameUI","isSimulating","toggleIsSimulating","resetSimulation","clearSimulation","width","height","onWidthChange","onHeightChange","nextGenerationCells","y","isAlive","x","neighbourCount","board","count","isYOuterEdge","length","isXOuterEdge","isYLowerEdge","isXLowerEdge","cellNeighbourCount","arrayFromTo","Array","from","fill","GameHeader","window","location","assign","origin","Game","startWidth","startHeight","useState","setWidth","setHeight","startCells","setGeneration","setIsSimulating","interval","useEffect","timer","setTimeout","simulateGeneration","clearTimeout","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.165fee41.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\ninterface Props {\r\n  alive?: boolean;\r\n  onClick: (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void;\r\n}\r\n\r\nconst Cell: React.FC<Props> = ({ onClick, alive = false }) => {\r\n  return (\r\n    <div className={`cell ${alive ? \"alive\" : \"dead\"}`} onClick={onClick}></div>\r\n  );\r\n};\r\n\r\nexport default Cell;\r\n","import React, { Dispatch, SetStateAction } from \"react\";\r\nimport Cell from \"./Cell\";\r\n\r\ninterface Props {\r\n  generation: number;\r\n  cells: boolean[][];\r\n  setCells: Dispatch<SetStateAction<boolean[][]>>;\r\n  setStartCells: Dispatch<SetStateAction<boolean[][]>>;\r\n}\r\n\r\nconst GameBoard: React.FC<Props> = ({\r\n  generation,\r\n  cells,\r\n  setCells,\r\n  setStartCells,\r\n}) => {\r\n  const toggleCell = (\r\n    setter: Dispatch<SetStateAction<boolean[][]>>,\r\n    row: number,\r\n    column: number\r\n  ) => {\r\n    let newCells = cells.map((cellRow, i) =>\r\n      cellRow.map((cellIsAlive, j) => {\r\n        if (i === row && j === column) return !cellIsAlive;\r\n        return cellIsAlive;\r\n      })\r\n    );\r\n    setter(newCells);\r\n    if (setter === setStartCells) {\r\n      setCells(newCells);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"board\">\r\n      {[\r\n        ...cells.map((row, rowIndex) => (\r\n          <div className=\"row\" key={rowIndex}>\r\n            {[\r\n              ...row.map((alive, columnIndex) => (\r\n                <Cell\r\n                  onClick={() => {\r\n                    if (generation === 1) {\r\n                      toggleCell(setStartCells, rowIndex, columnIndex);\r\n                    }\r\n                  }}\r\n                  key={columnIndex}\r\n                  alive={alive}\r\n                />\r\n              )),\r\n            ]}\r\n          </div>\r\n        )),\r\n      ]}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GameBoard;\r\n","import React, { ChangeEvent } from \"react\";\r\n\r\ninterface Props {\r\n  isSimulating: boolean;\r\n  toggleIsSimulating: () => void;\r\n  resetSimulation: () => void;\r\n  clearSimulation: () => void;\r\n  width: number;\r\n  height: number;\r\n  onWidthChange: (value: number) => void;\r\n  onHeightChange: (value: number) => void;\r\n}\r\n\r\nconst GameUI: React.FC<Props> = ({\r\n  isSimulating,\r\n  toggleIsSimulating,\r\n  resetSimulation,\r\n  clearSimulation,\r\n  width,\r\n  height,\r\n  onWidthChange,\r\n  onHeightChange,\r\n}) => {\r\n  return (\r\n    <div className=\"game-ui\">\r\n      {/*<div className=\"game-inputs\">\r\n        <div className=\"input-label\">Width:</div>\r\n        <input\r\n          className=\"input-field\"\r\n          type=\"number\"\r\n          defaultValue={width}\r\n          onChange={(e) => onWidthChange(e.target.valueAsNumber)}\r\n        />\r\n        <div className=\"input-label\">Height:</div>\r\n        <input\r\n          className=\"input-field\"\r\n          type=\"number\"\r\n          defaultValue={height}\r\n          onChange={(e) => onHeightChange(e.target.valueAsNumber)}\r\n        />\r\n      </div>\r\n  */}\r\n      <div className=\"game-buttons\">\r\n        <button className=\"game-button\" onClick={toggleIsSimulating}>\r\n          {isSimulating ? \"Pause\" : \"Play\"}\r\n        </button>\r\n        <button className=\"game-button\" onClick={resetSimulation}>\r\n          Reset\r\n        </button>\r\n        <button className=\"game-button\" onClick={clearSimulation}>\r\n          Clear\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GameUI;\r\n","const cellNeighbourCount = (board: boolean[][], y: number, x: number) => {\r\n  let count = 0;\r\n  let isYOuterEdge = y >= board.length - 1;\r\n  let isXOuterEdge = x >= board.length - 1;\r\n  let isYLowerEdge = y <= 0;\r\n  let isXLowerEdge = x <= 0;\r\n\r\n  if (!isYOuterEdge && !isXOuterEdge && board[y + 1][x + 1]) count++;\r\n  if (!isYOuterEdge && board[y + 1][x]) count++;\r\n  if (!isYOuterEdge && !isXLowerEdge && board[y + 1][x - 1]) count++;\r\n  if (!isXOuterEdge && board[y][x + 1]) count++;\r\n  if (!isXLowerEdge && board[y][x - 1]) count++;\r\n  if (!isYLowerEdge && !isXOuterEdge && board[y - 1][x + 1]) count++;\r\n  if (!isYLowerEdge && board[y - 1][x]) count++;\r\n  if (!isYLowerEdge && !isXLowerEdge && board[y - 1][x - 1]) count++;\r\n  return count;\r\n};\r\n\r\nconst nextGenerationCells = (cells: boolean[][]) =>\r\n  cells.map((row, y) =>\r\n    row.map((isAlive, x) => {\r\n      let neighbourCount = cellNeighbourCount(cells, y, x);\r\n      return (\r\n        (isAlive && (neighbourCount === 2 || neighbourCount === 3)) ||\r\n        (!isAlive && neighbourCount === 3)\r\n      );\r\n    })\r\n  );\r\n\r\nexport { nextGenerationCells };\r\n","const arrayFromTo = (width: number, height: number) =>\r\n  Array.from(Array(width), () => new Array(height).fill(false));\r\n\r\nexport default arrayFromTo;\r\n","import React from \"react\";\r\n\r\ninterface Props {\r\n  generation: number;\r\n}\r\n\r\nconst GameHeader: React.FC<Props> = ({ generation }) => {\r\n  return (\r\n    <div className=\"upper-ui\">\r\n      <button\r\n        className=\"back-button\"\r\n        onClick={() => window.location.assign(window.location.origin)}\r\n      >\r\n        {\"< Back\"}\r\n      </button>\r\n      <div className=\"game-label\">Generation: {generation}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GameHeader;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport GameBoard from \"./components/GameBoard\";\r\nimport GameUI from \"./components/GameUI\";\r\nimport { nextGenerationCells } from \"./utils/GameUtil\";\r\nimport arrayFromTo from \"./utils/ArrayUtil\";\r\nimport GameHeader from \"./components/GameHeader\";\r\n\r\ninterface Props {\r\n  startWidth: number;\r\n  startHeight: number;\r\n}\r\n\r\nconst Game: React.FC<Props> = ({ startWidth, startHeight }) => {\r\n  const [width, setWidth] = useState(startWidth);\r\n  const [height, setHeight] = useState(startHeight);\r\n\r\n  const [startCells, setStartCells] = useState<boolean[][]>(\r\n    arrayFromTo(width, height)\r\n  );\r\n  const [cells, setCells] = useState<boolean[][]>(startCells);\r\n  const [generation, setGeneration] = useState(1);\r\n  const [isSimulating, setIsSimulating] = useState(false);\r\n  const [interval, setInterval] = useState(500);\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      if (isSimulating) {\r\n        simulateGeneration();\r\n        setGeneration(generation + 1);\r\n      }\r\n    }, interval);\r\n    return () => clearTimeout(timer);\r\n  }, [generation, isSimulating, interval]);\r\n\r\n  const simulateGeneration = () => {\r\n    setCells(nextGenerationCells);\r\n    setGeneration(generation + 1);\r\n  };\r\n\r\n  const resetSimulation = () => {\r\n    setIsSimulating(false);\r\n    setGeneration(1);\r\n    setCells(startCells);\r\n  };\r\n\r\n  const clearSimulation = () => {\r\n    setIsSimulating(false);\r\n    setGeneration(1);\r\n    let newCells = arrayFromTo(width, height);\r\n    setCells(newCells);\r\n    setStartCells(newCells);\r\n  };\r\n\r\n  return (\r\n    <div className=\"game\">\r\n      <GameHeader generation={generation} />\r\n      <GameBoard\r\n        generation={generation}\r\n        cells={cells}\r\n        setCells={setCells}\r\n        setStartCells={setStartCells}\r\n      />\r\n      <GameUI\r\n        isSimulating={isSimulating}\r\n        toggleIsSimulating={() => setIsSimulating(!isSimulating)}\r\n        resetSimulation={resetSimulation}\r\n        clearSimulation={clearSimulation}\r\n        width={width}\r\n        height={height}\r\n        onWidthChange={setWidth}\r\n        onHeightChange={setHeight}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Game;\r\n","import React from \"react\";\nimport \"./App.css\";\nimport Game from \"./Game\";\n\nconst App: React.FC = () => {\n  return (\n    <div className=\"app\">\n      <Game startWidth={20} startHeight={20} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}